<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FloatSwim Dashboard – Drowning Incident Data</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Drowning incident data and water safety statistics across the United States. Track trends and understand why swim lessons save lives." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://floatswim.org/dashboard.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="FloatSwim Dashboard – Drowning Incident Data" />
  <meta property="og:description" content="Drowning incident data and water safety statistics across the United States. Track trends and understand why swim lessons save lives." />
  <meta property="og:url" content="https://floatswim.org/dashboard.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="FloatSwim" />
  <meta property="og:image" content="https://floatswim.org/img/banner_1200x630.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="FloatSwim Dashboard – Drowning Incident Data" />
  <meta name="twitter:description" content="Drowning incident data and water safety statistics across the United States." />
  <meta name="twitter:image" content="https://floatswim.org/img/banner_1200x630.png" />

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon_32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon_16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon_180.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/img/favicon_192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="/img/favicon_512.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="style.css" />

  <!-- GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js" defer></script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://floatswim.org/" },
      { "@type": "ListItem", "position": 2, "name": "Dashboard", "item": "https://floatswim.org/dashboard.html" }
    ]
  }
  </script>
</head>
<body>
  <header>
    <div class="shell">
      <div class="nav">
        <div class="brand">
          <div class="brand-mark">FS</div>
          <div class="brand-text">
            <div class="brand-name">FloatSwim</div>
            <div class="brand-tagline">Awareness. Safety. Hope.</div>
          </div>
        </div>
        <nav>
          <a href="index.html">Home</a>
          <a class="active" href="dashboard.html">Dashboard</a>
          <a href="about.html">About</a>
          <a href="resources.html">Resources</a>
          <a href="directory.html">Directory</a>
          <a href="roadmap.html">Roadmap</a>
          <a href="share-story.html">Share a Story</a>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <div class="shell">
      <!-- HERO -->
      <section class="hero">
        <div>
          <div class="hero-kicker">Early Dashboard Prototype</div>
          <h1>
            A calm, high-level view of <span>drowning and near-drowning incidents</span>.
          </h1>
          <p>
            This early dashboard uses simulated data to show how FloatSwim may eventually visualize real incidents: not to sensationalize, but to help
            families, communities, and partners see patterns more clearly.
          </p>
          <div class="hero-badges">
            <span class="badge">Demo data only</span>
            <span class="badge">Privacy-aware design</span>
            <span class="badge">Built to expand over time</span>
          </div>
          <div class="cta-row">
            <span class="cta-note">
              Data source (current demo): a static JSON file at <code>data/incidents.json</code>, served by GitHub Pages.
            </span>
          </div>
        </div>
      </section>

      <!-- SNAPSHOT METRICS -->
      <section id="snapshot">
        <h2>Snapshot Metrics (Demo)</h2>
        <p class="lead">
          These numbers are based on the current demo dataset. In the future, this view may reflect live or regularly updated incident data from
          carefully selected sources.
        </p>

        <div class="grid-3">
          <div class="card">
            <div class="pill">Total incidents (demo)</div>
            <h3 id="metric-total">&ndash;</h3>
            <p class="metric-text">
              Count of incidents currently in the demo dataset, including both drowning and near-drowning events.
            </p>
          </div>
          <div class="card">
            <div class="pill">Near-drowning (demo)</div>
            <h3 id="metric-near">&ndash;</h3>
            <p class="metric-text">
              Incidents where a person was rescued or revived. These often come with long-term medical or emotional impacts.
            </p>
          </div>
          <div class="card">
            <div class="pill">Drowning (demo)</div>
            <h3 id="metric-drown">&ndash;</h3>
            <p class="metric-text">
              Incidents currently marked as drowning in the demo data. Real-world views will be handled with extreme care and respect.
            </p>
          </div>
        </div>

        <div class="grid-3" style="margin-top: 1.4rem;">
          <div class="card">
            <div class="pill">States represented (demo)</div>
            <h3 id="metric-states">&ndash;</h3>
            <p class="metric-text">
              Number of distinct U.S. states in the current demo dataset. In the future, this may expand to regions and countries.
            </p>
          </div>
          <div class="card">
            <div class="pill">Last updated (demo)</div>
            <h3 id="metric-updated">&ndash;</h3>
            <p class="metric-text">
              Timestamp from the demo JSON file, indicating when this sample dataset was last changed.
            </p>
          </div>
          <div class="card">
            <div class="pill">Important note</div>
            <p>
              These numbers are for demonstration only. They do not represent live tracking, and they do not pull directly from official public safety
              databases yet.
            </p>
          </div>
        </div>
      </section>

      <!-- INCIDENT LIST -->
      <section id="incidents">
        <h2>Incident List (Demo Data)</h2>
        <p class="lead">
          Each card below represents one incident from the demo dataset at <code>data/incidents.json</code>. Real-world data will be anonymized and
          aggregated to protect privacy, especially for minors.
        </p>

        <div id="incident-cards" class="grid-3">
          <!-- Cards populated by JavaScript -->
        </div>
      </section>

      <!-- FUTURE VIEW -->
      <section>
        <h2>Future Dashboard Capabilities</h2>
        <p class="lead">
          Over time, this dashboard may evolve to include map views, trend graphs, filters by age and environment, and tools for local organizers and
          policymakers.
        </p>

        <div class="two-col">
          <div>
            <ul class="tight">
              <li>Interactive maps showing anonymized incident clusters and seasonal trends.</li>
              <li>Filters for age group, water type (pool, lake, ocean, bath), and context.</li>
              <li>Links from patterns to practical prevention steps and local resources.</li>
              <li>Exportable summaries to support grant writing and community planning.</li>
            </ul>
          </div>
          <div class="note-box">
            The dashboard's purpose is to inform and equip—not to shock. Every design decision will be guided by respect for families and a focus on
            prevention.
          </div>
        </div>
      </section>

      <!-- SAMPLE INCIDENTS TABLE -->
      <section>
        <h2>Sample Incident Format (Illustrative Only)</h2>
        <p class="lead">
          The table below does not use real data. It simply demonstrates how incidents might be displayed in a future version of the dashboard, using
          anonymized, pattern-focused information.
        </p>

        <div class="incidents-table-wrapper">
          <table class="incidents-table" aria-label="Illustrative incident list">
            <thead>
              <tr>
                <th>Date</th>
                <th>Region</th>
                <th>Age bracket</th>
                <th>Setting</th>
                <th>Outcome</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Example: Jun 3 (Weekday)</td>
                <td>Metro area – Southwest U.S.</td>
                <td>1–4 years</td>
                <td>Residential pool</td>
                <td>Near-drowning, hospitalized</td>
              </tr>
              <tr>
                <td>Example: Jul 12 (Weekend)</td>
                <td>Suburban community – Midwest</td>
                <td>5–9 years</td>
                <td>Lake / open water</td>
                <td>Fatal, no life jacket</td>
              </tr>
              <tr>
                <td>Example: Aug 20 (Evening)</td>
                <td>Urban high-rise – East Coast</td>
                <td>Under 1 year</td>
                <td>Bathtub</td>
                <td>Near-drowning, recovered with follow-up care</td>
              </tr>
              <tr>
                <td>Example: Sep 5 (Holiday)</td>
                <td>Tourist area – Coastal</td>
                <td>Teen</td>
                <td>Ocean / rip current</td>
                <td>Rescued by lifeguards</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="note-box" style="margin-top: 1rem;">
          In a future phase, this table will be generated from carefully sourced data rather than static examples. The emphasis will remain on
          anonymized patterns—age, setting, and outcome—rather than personally identifying details.
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="shell footer-inner">
      <div>&copy; <span id="year"></span> FloatSwim. All rights reserved.</div>
      <div>
        <a href="index.html#why">Why this matters</a> ·
        <a href="index.html#parents">For parents</a> ·
        <a href="index.html#stories">Stories</a> ·
        <a href="index.html#get-involved">Get involved</a>
      </div>
    </div>
  </footer>

  <script>
    // Set footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Load incidents from data/incidents.json and populate the dashboard
    async function loadIncidents() {
      try {
        var res = await fetch("data/incidents.json");
        if (!res.ok) {
          throw new Error("Network response was not ok");
        }

        var data = await res.json();
        var incidents = Array.isArray(data.incidents) ? data.incidents : [];

        if (data.last_updated) {
          document.getElementById("metric-updated").textContent = data.last_updated;
        } else {
          document.getElementById("metric-updated").textContent = "N/A";
        }

        var total = incidents.length;
        var near = incidents.filter(function (i) {
          return (i.status || "").toLowerCase().includes("near");
        }).length;
        var drown = incidents.filter(function (i) {
          var status = (i.status || "").toLowerCase();
          return status.includes("drown") && !status.includes("near");
        }).length;
        var statesCount = new Set(incidents.map(function (i) { return i.state || "Unknown"; })).size;

        document.getElementById("metric-total").textContent = total || "0";
        document.getElementById("metric-near").textContent = near || "0";
        document.getElementById("metric-drown").textContent = drown || "0";
        document.getElementById("metric-states").textContent = statesCount || "0";

        var container = document.getElementById("incident-cards");

        if (!incidents.length) {
          container.innerHTML =
            '<p class="lead">No demo incidents are available yet. The dataset at <code>data/incidents.json</code> is currently empty.</p>';
          return;
        }

        container.innerHTML = incidents
          .map(function (incident) {
            var date = incident.date || "Unknown date";
            var incState = incident.state || "Unknown location";
            var locationType = incident.location_type || "Water setting not specified";
            var ageGroup = incident.age_group || "Age not specified";
            var status = incident.status || "Status not specified";
            var notes = incident.notes || "No additional notes provided.";

            return '<div class="card">' +
              '<div class="pill">' + date + ' &middot; ' + incState + '</div>' +
              '<h3>' + locationType + '</h3>' +
              '<ul class="tight">' +
              '<li><strong>Age group:</strong> ' + ageGroup + '</li>' +
              '<li><strong>Status:</strong> ' + status + '</li>' +
              '<li><strong>Notes:</strong> ' + notes + '</li>' +
              '</ul></div>';
          })
          .join("");
      } catch (error) {
        console.error("Error loading incidents:", error);
        var container = document.getElementById("incident-cards");
        container.innerHTML =
          '<p class="lead">There was a problem loading the demo incident data. This is an early prototype view, and data sources may change.</p>';
        document.getElementById("metric-total").textContent = "\u2013";
        document.getElementById("metric-near").textContent = "\u2013";
        document.getElementById("metric-drown").textContent = "\u2013";
        document.getElementById("metric-states").textContent = "\u2013";
        document.getElementById("metric-updated").textContent = "N/A";
      }
    }

    loadIncidents();
  </script>

  <!-- GSAP Animations -->
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    if (typeof gsap === "undefined") return;
    var prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) return;

    gsap.registerPlugin(ScrollTrigger);

    gsap.utils.toArray("section").forEach(function (sec) {
      gsap.from(sec, {
        opacity: 0, y: 30, duration: 0.7, ease: "power2.out",
        scrollTrigger: { trigger: sec, start: "top 85%", once: true }
      });
    });

    gsap.utils.toArray(".grid-3").forEach(function (grid) {
      gsap.from(grid.children, {
        opacity: 0, y: 20, duration: 0.5, stagger: 0.1, ease: "power2.out",
        scrollTrigger: { trigger: grid, start: "top 85%", once: true }
      });
    });

    var heroLeft = document.querySelector(".hero > div:first-child");
    if (heroLeft) gsap.from(heroLeft, { opacity: 0, x: -30, duration: 0.8, ease: "power2.out" });
  });
  </script>
</body>
</html>
